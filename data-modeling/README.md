### [1. 데이터 모델링의 이해](#1-데이터-모델링의-이해)

[데이터 모델의 이해](#데이터-모델의-이해) </br>
[엔터티](#) </br>
[속성](#) </br>
[관계](#) </br>
[식별자](#) </br>

---

</br></br>

# 1. 데이터 모델링의 이해

<b>모델링</b>은 현실세계를 일정한 형식에 맞추어 표현하는 `추상화`와
복잡한 현실을 제한된 언어와 표기법을 사용하여 이해하기 쉽게 하는 `단순화`, 애매모호함을 배제하고 누구나 이해가 가능하도록 정확하게 현상을 기술하는 `정확화`의 의미를 가진다.

    단지 시스템 구현만을 위해 수행되는 것이 아닌 시스템 구현을 포함한 업무분석 및 업무형상화를 하는 목적을 위해 수행된다.

## 데이터 모델의 이해

#### ✅ 데이터 모델링의 주된 목적

- 업무정보를 구성하는 기초가 되는 정보들에 대해 일정한 표기법에 의해 표현함으로써 정보시스템 구축의 대상이 되는 업무 내용을 정확하게 분석
- 분석된 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 데이터관리에 사용
- 데이터 모델링 자체로서 업무를 설명하고 분석

#### ✅ 데이터 모델링을 할 때 유의 사항

- <b>중복성(Duplication)</b></br>
  데이터베이스가 여러 장소에 같은 정보를 저장하지 않도록 해야 한다.
- <b>비유연성(Inflexibility)</b></br>
  데이터 모델을 어떻게 설계했는지에 따라 사소한 업무변화에도 데이터 모델이 수시로 변경되어 유지보수의 어려움을 가중시킬 수 있다.</br>
  데이터의 정의를 데이터의 사용 프로세스와 분리하여 데이터 혹은 프로세스의 작은 변화가 애플레케이션과 데이터베이스에 중대한 변화를 일으킬 수 있는 가능성을 줄인다.
- <b>비일관성(Inconsistency)</b></br>
  데이터의 중복이 없더라도 비일관성은 발생할 수 있다. 따라서 데이터와 데이터 간의 상호 연관 관계에 대해 명확하게 정의해야 한다. </br> 사용자가 처리하는 프로세스 혹은 이와 관련된 프로그램과 테이블의 연계성을 높이는 것은 데이터 모델이 업무 변경에 대해 취약하게 만든다.

#### ✅ 데이터 모델링의 개념

데이터모델링은 통합관점의 뷰를 가지는 개념 스키마를 만들어가는 과정이다.

#### ✅ 데이터 모델링

|                      |                                                                                                          |
| :------------------- | :------------------------------------------------------------------------------------------------------- |
| 개념적 데이터 모델링 | 추상화 수준이 높고 업무중심적이고 포괄적인 수준의 모델링 진행. 전사적 데이터 모델링, EA 수립시 많이 이용 |
| 논리적 데이터 모델링 | 시스템으로 구축하고자 하는 업무에 대해 Key, Attribute, Relationship 등을 정확하게 표현, 재사용성이 높음  |
| 물리적 데이터 모델링 | 실제로 데이터베이스에 이식할 수 있도록 성능, 저장 등 물리적인 성격을 고려하여 설계                       |

#### ✅ 데이터베이스 스키마 구조

데이터베이스 스키마 구조는 3단계로 구분되고 각각은 상호 독립적인 의미를 가지며 고유한 기능을 가진다.
| | |
| :-- | :-- |
|외부(External)|the conceptual structure of part of a database(=View)
|개념(Conceptual)|모든 사용자 관점을 통합한 조직 전체 관점의 통합적 표현 </br> 모든 응용시스템들이나 사용자들이 필요로 하는 데이터를 통합한 조직 전체의 DB를 기술한 것으로 DB에 저장되는 데이터와 그들 간의 관계를 표현하는 스키마|
|내부(Internal)|physical storage structure of database </br> Logical Schema와 Physical Schema로 구성|

#### ✅ ERD (Entity Relationship Diagram)

- 1976년 피터첸에 의해 E-R Model 표기법이 만들어졌다.
- ERD 작성 순서 </br>
  엔터티 도출 → 엔터티 배치 → 엔터티간 관계 설정 → 관계명 기술 → 관계의 참여도 기술 → 관계의 필수여부 기술
- 데이터모델링에서 가장 중요한 엔터티를 왼쪽 상단에 배치하고 이를 중심으로 다른 엔터티를 나열하면서 전개하면 시작적으로 편리한 데이터 모델을 작성할 수 있다. 또한 향후 관련 엔터티와 관계선을 연결할 때 선이 꼬이지 않고 효과적으로 배치할 수 있다.

## 엔터티

#### ✅ 엔터티의 특징

- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 한다.
- 유일한 식별자에 의해 식별이 가능해야 한다.
- 영속적으로 존재하는 두 개 이상의 인스턴스의 집합이여야 한다.
- 엔터티는 업무 프로세스에 의해 이용되어야 한다.
- 엔터티는 반드시 속성이 있어야 한다.
- 엔터티는 다른 엔터티와 최소 한 개 이상의 관계가 있어야 한다. </br> (단 통계성 엔터티나 코드성 엔터티의 경우 관계를 생략할 수 있다.)

#### ✅ 엔터티의 분류

| 유무형에 따른 분류 |      설명       |       예시       |
| :----------------: | :-------------: | :--------------: |
|        유형        |   물리적 형태   | 사원, 물품, 강사 |
|        개념        |   개념적 정보   |  조직, 보험상품  |
|        사건        | 업무수행시 발생 | 주문, 청구, 미납 |

| 발생시점에 따른 분류 |                                                                                              |          예시          |
| :------------------: | :------------------------------------------------------------------------------------------- | :--------------------: |
|       기본/키        | 그 업무에 원래 존재하는 정보 </br> 타 엔터티의 부모 역할 </br> 자신의 고유한 주식별자를 가짐 |       사원, 부서       |
|         중심         | 기본 엔터티로부터 발생 </br> 다른 엔터티와의 관계로 많은 행위 엔터티 생성                    |    계약, 사고, 주문    |
|         행위         | 2개 이상의 부모 엔터티로부터 발생 </br> 자주 바뀌거나 양이 증가                              | 주문목록, 사원변경이력 |

#### ✅ 엔터티의 명칭부여

- 가능하면 현업업무에사 사용하는 용어를 사용한다.
- 가능하면 약어를 사용하지 않는다.
- 단수 명사를 사용한다.
- 모든 엔터티를 통틀어 유일하게 이름이 부여되어야 한다.
- 엔터티 생성 의미대로 이름을 부여한다.

## 속성

    업무에서 필요로 하는 인스턴스에서 관리하고자 하는 의미상 더 이상 분리되지 않는 최소의 데이터 단위

- 엔터티에 대한 자세하고 구체적인 정보를 나타낸다
- 하나의 엔터티는 두 개 이상의 속성을 갖는다
- 하나의 인스턴스에서 각각의 속성은 한 개의 속성값을 갖는다
- 속성도 집합이다
- 도메인: 속성에 대한 데이터 타입, 크기, 제약사항을 지정

#### ✅ 속성의 특성에 따른 분류

|          |                                                                                                    |
| :------- | :------------------------------------------------------------------------------------------------- |
| 기본속성 | 업무로부터 추출한 모든 일반적인 속성                                                               |
| 설계속성 | 업무를 규칙화하기 위해 새로 만들거나 정의하는 속성                                                 |
| 파생속성 | 다른 속성에 영향을 받아 발생하며 빠른 성능을 위해 원래 속성의 값을 계산하는 속성으로 적을수록 좋다 |

#### ✅ 속성의 명칭부여

- 해당업무에서 사용하는 이름을 부여
- 서술식 속성명은 사용하지 않음
- 약어 사용은 가급적 제한
- 전체 데이터모델에서 유일성 확보하는 것이 좋음

## 관계

    엔터티의 인스턴스 사이의 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태로 관계 페어링의 집합

- 관계는 존재에 의한 관계와 행위에 의한 관계로 구분된다. </br>
  → ERD에서는 관계를 연결할 때, 존재와 행위를 구분하지 않고 단일화된 표기법을 사용한다. </br>
  → UML의 클래스다이어그램은 연관관계와 의존관계가 있고 실선과 점선의 표기법으로 다르게 표현한다.
- 관계 표기법은 관계명(Membership), 관계차수(Cardinality/Degree), 선택사양(Optionality)의 3가지 개념으로 표현한다.

#### ✅ 관계를 체크하는 사항

- 두 개의 엔터티 사이에 관심있는 연관규칙이 존재하는가?
- 두 개의 엔터티 사이에 정보의 조합이 발생하는가?
- 업무기술서, 장표에 관계연결을 가능케 하는 동사(Verb)가 있는가?
- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?

## 식별자

    엔터티 내에서 인스턴스를 구분하는 구분자로 식별자는 논리적, Key는 물리적 데이터 모델링 단계에 사용된다.

#### ✅ 식별자의 특징

|        |                                                                            |
| :----- | :------------------------------------------------------------------------- |
| 유일성 | 주식별자에 의해 모든 인스턴스들이 유일하게 구분                            |
| 최소성 | 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 함    |
| 불변성 | 지정된 주식별자의 값은 자주 변하지 않아야 함. 변하는 경우 이전 기록 말소됨 |
| 존재성 | 주식별자가 지정되면 반드시 값이 들어와야 함                                |

#### ✅ 식별자의 종류

- 엔터티 내에서 대표성을 가지는가? </br>
  → 주식별자: 엔터티 내에서 각 어커런스를 구분할 수 있는 구분자로 타 엔터티와 참조관계를 연결 </br>
  → 보조식별자: 구분자이나 대표성을 가지지 않으며 참조관계로 연결되지 않는다

- 엔터티 내에서 스스로 생성되었는가? </br>
  → 내부식별자: 스스로 생성되는 식별자 </br>
  → 외부식별자: 타 엔터티로부터 받아오는 식별자

- 단일 속성으로 식별이 되는가? </br>
  → 단일식별자: 하나의 속성으로 구성</br>
  → 복합식별자: 두 개 이상의 속성으로 구성

- 원래 업무적으로 의미가 있던 식별자 속성을 대체하여 일련번호와 같이 새롭게 만들었는가?</br>
  → 본질식별자: 업무에 의해 만들어지는 식별자</br>
  → 인조식별자: 업무적으로 만들어지지는 않지만 원조식별자가 복잡한 구성을 가지고 있기 때문에 인위적으로 만든 식별자

#### ✅ 주식별자의 도츌 기준

- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.
- 명칭, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.
- 복합으로 주식별자를 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.
- 자주 수정되는 속성이 주식별자가 되면 자식 엔터티에 대한 연쇄 수정이 필요하여 시스템 부하의 원인이 될 수 있으므로 주식별자로 지정하지 않는다.

#### ✅ 식별자와 비식별자관계 비교

| 항목               | 식별자관계                                                                                                                  | 비식별자관계                                                                                                                                                                            |
| :----------------- | :-------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 목적               | 강한 연결관계 표현                                                                                                          | 약한 연결관계 표현                                                                                                                                                                      |
| 자식 주식별자 영향 | 자식 주식별자 구성에 포함됨                                                                                                 | 자식 일반 속성에 포함됨                                                                                                                                                                 |
| 표기법             | 실선 표현                                                                                                                   | 점선 표현                                                                                                                                                                               |
| 연결 고려사항      | 반드시 부모 엔터티 종속 </br> 자식 주식별자구성에 부모 주식별자 포함 필요</br> 상속받은 주식별자속성을 타엔터티에 이전 필요 | 약한 종속관계</br>자식주식별자 구성을 독립적으로 구성</br>자식 주식별자구성에 부모 주식별자 부분 필요</br>상속받은 주식별자속성을 타 엔터티에 차단필요</br>부모쪽의 관계참여가 선택관계 |
